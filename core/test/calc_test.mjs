/* eslint-disable no-undef */
import assert from 'assert'
import { NakoCompiler } from '../src/nako3.mjs'

describe('calc_test.js', async () => {
  const cmp = async (/** @type {string} */ code, /** @type {string} */ res) => {
    const nako = new NakoCompiler()
    assert.strictEqual((await nako.runAsync(code, 'main.nako3')).log, res)
  }
  const errorTest = async (/** @type {string} */ code, /** @type {string} */ errorType, /** @type {string} */ partOfErrorStr) => {
    const nako = new NakoCompiler()
    try {
      await nako.runAsync(code, 'main.nako3')
    } catch (err) {
      assert.strictEqual(errorType, err.type)
      assert.strictEqual(err.msg.indexOf(partOfErrorStr) >= 0, true)
    }
  }
  it('basic', async () => {
    await cmp('3ã‚’è¡¨ç¤º', '3')
    await cmp('3.14ã‚’è¡¨ç¤º', '3.14')
    await cmp('0.5e+3ã‚’è¡¨ç¤º', '500')
  })
  it('è¶³ã—ç®—', async () => {
    await cmp('3+5ã‚’è¡¨ç¤º', '8')
  })
  it('å¼•ãç®—', async () => {
    await cmp('10-5ã‚’è¡¨ç¤ºã€‚', '5')
    await cmp('ï¼‘ï¼ï¼ï¼•ã‚’è¡¨ç¤ºã€‚', '5')
  })
  it('æ›ã‘ç®—', async () => {
    await cmp('1+2*3ã‚’è¡¨ç¤º', '7')
  })
  it('é€£ç¶šæ¼”ç®—ï¼šã—ã¦', async () => {
    await cmp('3ã«5ã‚’è¶³ã—ã¦è¡¨ç¤º', '8')
  })
  it('é€£ç¶šæ¼”ç®—ï¼šã¦-3ã«5ã‚’æ›ã‘ã¦è¡¨ç¤º', async () => {
    await cmp('3ã«5ã‚’æ›ã‘ã¦è¡¨ç¤º', '15')
  })
  it('MAX', async () => {
    await cmp('10ã¨20ã®MAXã‚’è¡¨ç¤º', '20')
    await cmp('MAX(10, 20)ã‚’è¡¨ç¤º', '20')
    await cmp('MAX(10, 20, 30)ã‚’è¡¨ç¤º', '30')
  })
  it('æœ€å¤§å€¤', async () => {
    await cmp('10ã¨20ã®æœ€å¤§å€¤ã‚’è¡¨ç¤º', '20')
    await cmp('10ã¨20ã¨30ã®æœ€å¤§å€¤ã‚’è¡¨ç¤º', '30')
    await cmp('10ã¨10ã®æœ€å¤§å€¤ã‚’è¡¨ç¤º', '10')
  })
  it('MIN', async () => {
    await cmp('10ã¨20ã®MINã‚’è¡¨ç¤º', '10')
    await cmp('MIN(10, 20)ã‚’è¡¨ç¤º', '10')
    await cmp('MIN(5, 10, 20, 30)ã‚’è¡¨ç¤º', '5')
  })
  it('æœ€å°å€¤', async () => {
    await cmp('10ã¨20ã®æœ€å°å€¤ã‚’è¡¨ç¤º', '10')
    await cmp('5ã¨10ã¨20ã¨30ã®æœ€å°å€¤ã‚’è¡¨ç¤º', '5')
    await cmp('10ã¨10ã®æœ€å°å€¤ã‚’è¡¨ç¤º', '10')
  })
  it('CLAMP', async () => {
    await cmp('10ã®20ã‹ã‚‰30ã¾ã§ã®CLAMPã‚’è¡¨ç¤º', '20')
    await cmp('40ã‚’20ã‹ã‚‰30ã§CLAMPã—ã¦è¡¨ç¤º', '30')
    await cmp('25ã®20ã‹ã‚‰30ã¾ã§ã®CLAMPã‚’è¡¨ç¤º', '25')
    await cmp('CLAMP(10, 20, 30)ã‚’è¡¨ç¤º', '20')
    await cmp('CLAMP(20, 20, 30)ã‚’è¡¨ç¤º', '20')
    await cmp('CLAMP(30, 20, 30)ã‚’è¡¨ç¤º', '30')
  })
  it('é…åˆ—', async () => {
    await cmp('a=[];a[1]=30;a[1]ã‚’è¡¨ç¤º', '30')
    await cmp('a=[];aã€1ã€‘=30;a[1]ã‚’è¡¨ç¤º', '30')
  })
  it('ãƒã‚¹ãƒˆé…åˆ—', async () => {
    await cmp('a=[[1,2,3], [4,5,6]];a[1][1]ã‚’è¡¨ç¤º', '5')
  })
  it('ãƒã‚¹ãƒˆé…åˆ—ã§ã€ãƒã‚¤ãƒŠã‚¹ã‚’å«ã‚€ã¨ãã®ãƒã‚°ä¿®æ­£ (#276)', async () => {
    await cmp('a=[-1, -2, -3];a[0]ã‚’è¡¨ç¤º', '-1')
    await cmp('a=[-1, -2, -3];a[2]ã‚’è¡¨ç¤º', '-3')
    await cmp('a=[[-1, -1], [1, -1]];a[0][0]ã‚’è¡¨ç¤º', '-1')
  })
  it('ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ', async () => {
    await cmp('a={};a[\'a\']=30;a[\'a\']ã‚’è¡¨ç¤º', '30')
  })
  it('éšä¹—', async () => {
    await cmp('2^3ã‚’è¡¨ç¤º', '8')
  })
  it('å¦å®š', async () => {
    await cmp('(!1)ã‚’è¡¨ç¤º', 'false')
    await cmp('(!0)ã‚’è¡¨ç¤º', 'true')
    await cmp('(!ã‚ªãƒ³)ã‚’è¡¨ç¤º', 'false')
    await cmp('(!ã‚ªãƒ•)ã‚’è¡¨ç¤º', 'true')
  })
  it('é…åˆ—ç°¡æ˜“è¨˜å·', async () => {
    await cmp('A=[];A@0=5;A@0ã‚’è¡¨ç¤º', '5')
    await cmp('A=[];Aï¼ 0=5;Aï¼ 1=6;Aã‚’JSONã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã—ã¦è¡¨ç¤º', '[5,6]')
  })
  it('JSONé…åˆ—-æ”¹è¡Œã‚ã‚Š', async () => {
    await cmp('A=[\n0,\n1,\n2,\n3];A@2ã‚’è¡¨ç¤º', '2')
  })
  it('JSONé…åˆ—-ã‚«ãƒ³ãƒçœç•¥', async () => {
    await cmp('A=[1 2 3 4 5];Aã‚’JSONã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã—ã¦è¡¨ç¤º', '[1,2,3,4,5]')
  })
  it('JSONé…åˆ—-ãƒã‚¹ãƒˆ', async () => {
    await cmp('A=[[1,2,3],[4,5,6]];Aã‚’JSONã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã—ã¦è¡¨ç¤º', '[[1,2,3],[4,5,6]]')
  })
  it('JSONã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ-æ”¹è¡Œã‚ã‚Š', async () => {
    await cmp('A={\n"æ®¿":"ç”·","å§«":"å¥³"\n};A@"æ®¿"ã‚’è¡¨ç¤º', 'ç”·')
  })
  it('JSONã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ-å€¤ã‚’çœç•¥ã—ãŸå ´åˆ', async () => {
    await cmp('N={"hoge"};N["hoge"]ã‚’è¡¨ç¤ºã€‚', 'hoge')
    await cmp('N={"hoge","fuga","bar"};N["bar"]ã‚’è¡¨ç¤ºã€‚', 'bar')
    await cmp('N={32,45,66};N[45]ã‚’è¡¨ç¤ºã€‚', '45')
  })
  it('JSONã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ-ã‚­ãƒ¼ã‚’æ–‡å­—åˆ—ã§å›²ã‚ãªã‹ã£ãŸå ´åˆ', async () => {
    await cmp('N={hoge:30};N["hoge"]ã‚’è¡¨ç¤ºã€‚', '30')
  })
  it('æ–‡å­—åˆ—â†’æ•°å€¤ã¸ã®æš—é»™çš„å¤‰æ›', async () => {
    await cmp('A="5";B="50";A+Bã‚’è¡¨ç¤º', '55')
    await cmp('"100"/"2"ã‚’è¡¨ç¤º', '50')
    await cmp('"2"*"3"ã‚’è¡¨ç¤º', '6')
    await cmp('"100"%"10"ã‚’è¡¨ç¤º', '0')
  })
  it('ç©ºé…åˆ—ãƒ†ã‚¹ãƒˆ', async () => {
    await cmp('A=ç©ºé…åˆ—;A@0=30;A@1=50;Aã‚’ã€Œ:ã€ã§é…åˆ—çµåˆã—ã¦è¡¨ç¤º', '30:50')
    await cmp('A=ç©ºé…åˆ—;B=ç©ºé…åˆ—;A@0=30;A@1=50;B@0=1;Bã‚’ã€Œ:ã€ã§é…åˆ—çµåˆã—ã¦è¡¨ç¤º', '1')
  })
  it('å˜é …æ¼”ç®—å­ minus number', async () => {
    await cmp('-1*5ã‚’è¡¨ç¤º', '-5')
    await cmp('5*-1ã‚’è¡¨ç¤º', '-5')
  })
  it('å˜é …æ¼”ç®—å­ minus word', async () => {
    await cmp('A=1;5*-Aã‚’è¡¨ç¤º', '-5')
  })
  it('è«–ç†æ¼”ç®—', async () => {
    await cmp('BMI=25;A=((25 â‰¦ BMI) ã‹ã¤ (BMI < 30));Aã‚’è¡¨ç¤º', 'true')
    await cmp('BMI=25;A=((18.5 > BMI) ã¾ãŸã¯ (BMI > 30));Aã‚’è¡¨ç¤º', 'false')
  })
  it('ã‚«ãƒƒã‚³å†…ã®é–¢æ•°å‘¼ã³å‡ºã—', async () => {
    await cmp('N=("ABC"ã®æ–‡å­—æ•°);Nã‚’è¡¨ç¤ºã€‚', '3')
  })
  it('æ–‡å­—åˆ—ã®åŸ‹ã‚è¾¼ã¿å¤‰æ•°åŠ ç®—', async () => {
    await cmp('N1=30;ã€Œ--{N1+1}--ã€ã‚’è¡¨ç¤º', '--31--')
  })
  it('æ–‡å­—åˆ—ã®åŸ‹ã‚è¾¼ã¿å¤‰æ•°æ¸›ç®—', async () => {
    await cmp('N1=30;ã€Œ--{N1-1}--ã€ã‚’è¡¨ç¤º', '--29--')
  })
  it('æ–‡å­—åˆ—ã®åŸ‹ã‚è¾¼ã¿å¤‰æ•°ä¹—ç®—', async () => {
    await cmp('N1=30;ã€Œ--{N1*2}--ã€ã‚’è¡¨ç¤º', '--60--')
  })
  it('æ–‡å­—åˆ—ã®åŸ‹ã‚è¾¼ã¿å¤‰æ•°é™¤ç®—', async () => {
    await cmp('N1=30;ã€Œ--{N1/2}--ã€ã‚’è¡¨ç¤º', '--15--')
  })
  it('æ–‡å­—åˆ—ã®åŸ‹ã‚è¾¼ã¿å¤‰æ•°å‰°ä½™', async () => {
    await cmp('N1=30;ã€Œ--{N1%2}--ã€ã‚’è¡¨ç¤º', '--0--')
  })
  it('æ–‡å­—åˆ—ã®åŸ‹ã‚è¾¼ã¿å¤‰æ•°å†ªä¹—', async () => {
    await cmp('N1=2;ã€Œ--{N1^3}--ã€ã‚’è¡¨ç¤º', '--8--')
  })
  it('æ¯”è¼ƒæ¼”ç®—å­', async () => {
    await cmp('A=1>5;Aã‚’è¡¨ç¤º', 'false')
  })
  it('ãƒ“ãƒƒãƒˆæ¼”ç®—', async () => {
    await cmp('A=0xF0>>4;Aã‚’è¡¨ç¤º', '15')
    await cmp('A=0xF<<4;Aã‚’è¡¨ç¤º', '240')
  })
  it('é€£æ–‡ã§è¨ˆç®— (#729)', async () => {
    await cmp('1ã«2ã‚’è¶³ã—ã¦3ã‚’è¶³ã—ã¦4ã‚’å¼•ã„ã¦5ã‚’æ›ã‘ã¦2ã§å‰²ã£ã¦è¡¨ç¤º', '5')
    await cmp('2ã«3ã‚’æ›ã‘ã¦4ã‚’è¶³ã—ã¦5ã§å‰²ã£ã¦è¡¨ç¤º', '2')
  })
  it('å³æ ¼ãªæ¯”è¼ƒ (#999)', async () => {
    await cmp('N=ã€Œã€;ã‚‚ã—ã€N=0ãªã‚‰ã°ã€ŒOKã€ã¨è¡¨ç¤ºã€‚', 'OK')
    await cmp('N=ã€Œã€;ã‚‚ã—ã€N===0ãªã‚‰ã°ã€ŒNGã€ã¨è¡¨ç¤ºã€‚é•ãˆã°ã€ŒOKã€ã¨è¡¨ç¤ºã€‚', 'OK')
  })
  it('ãªã§ã—ã“å¼é–¢æ•°å‘¼ã³å‡ºã—ã§ã€é€”ä¸­ã«å››å‰‡æ¼”ç®—ãŒã‚ã‚‹å ´åˆã®å‡¦ç† (#1188)', async () => {
    await cmp('3.14ã®INT+2ã‚’è¡¨ç¤ºã€‚', '5')
    await cmp('3ã®5å€Ã—2ã‚’è¡¨ç¤º', '30')
    await cmp('1+3ã®2å€Ã—2ã‚’è¡¨ç¤º', '16')
  })
  it('é€£æ–‡å‘¼ã³å‡ºã—ã«ãŠã‘ã‚‹ã‚¹ã‚¿ãƒƒã‚¯ã®ä½™å‰°ãƒã‚§ãƒƒã‚¯ã‚’å³ã—ãã™ã‚‹ #87', async () => {
    await cmp('3ã«5ã‚’è¶³ã—ã¦2ã‚’æ›ã‘ã¦è¡¨ç¤º', '16')
    await cmp('ã€Œ  ã‚ã‚ã‚  ã€ã®ã€Œã‚ã€ã‚’ã€Œãˆã€ã«ç½®æ›ã—ã¦ç©ºç™½é™¤å»ã—ã¦è¡¨ç¤º', 'ãˆãˆãˆ')
    await errorTest('3ã®ã€Œ  ã‚ã‚ã‚  ã€ã®ã€Œã‚ã€ã‚’ã€Œãˆã€ã«ç½®æ›ã—ã¦ç©ºç™½é™¤å»ã—ã¦è¡¨ç¤º', 'NakoSyntaxError', 'æœªè§£æ±ºã®å˜èªãŒã‚ã‚Šã¾ã™')
    await errorTest('9ã®1ã«2ã‚’è¶³ã—ã¦5ã‚’è¶³ã—ã¦è¡¨ç¤º', 'NakoSyntaxError', 'æœªè§£æ±ºã®å˜èªãŒã‚ã‚Šã¾ã™')
  })
  it('ä»£å…¥æ–‡ã«ãŠã‘ã‚‹é€£æ–‡ #88', async () => {
    await cmp('N=ã€Œã‚ã‚ã‚ã€ã®ã€Œã‚ã€ã‚’ã€Œãˆã€ã«ç½®æ›ã—ã¦ç©ºç™½é™¤å»ã€‚Nã‚’è¡¨ç¤ºã€‚', 'ãˆãˆãˆ')
    await errorTest('N=30ã®ã€Œã‚ã‚ã‚ã€ã®ã€Œã‚ã€ã‚’ã€Œãˆã€ã«ç½®æ›ã—ã¦ç©ºç™½é™¤å»ã€‚Nã‚’è¡¨ç¤ºã€‚', 'NakoSyntaxError', 'æœªè§£æ±ºã®å˜èªãŒã‚ã‚Šã¾ã™')
  })
  it('æ¼”ç®—å­ã€Œ**ã€(#1424)', async () => {
    await cmp('2**3ã‚’è¡¨ç¤º;', '8')
    await cmp('2^3ã‚’è¡¨ç¤º;', '8')
    await cmp('2**4ã‚’è¡¨ç¤º;', '16')
  })
  it('ä»£å…¥æ–‡ã«ãŠã‘ã‚‹é–¢æ•°å‘¼ã³å‡ºã—(#1449)', async () => {
    await cmp('N=(ã€Œabcã€ã®æ–‡å­—æ•°)+1;Nã‚’è¡¨ç¤º;', '4')
    await cmp('N=ã€Œabcã€ã®æ–‡å­—æ•°+1;Nã‚’è¡¨ç¤º;', '4')
    await cmp('N=1ã«2ã‚’è¶³ã—ã¦5ã‚’æ›ã‘ã‚‹+1;Nã‚’è¡¨ç¤º;', '16')
    await cmp('N=æ–‡å­—æ•°("abc")+1;Nã‚’è¡¨ç¤º;', '4')
    await cmp('N=1ã«2ã‚’è¶³ã™+2ã«3ã‚’æ›ã‘ã‚‹;Nã‚’è¡¨ç¤º;', '15')
  })
  it('bigintè¶³ã—ç®—', async () => {
    await cmp('3n+5nã‚’è¡¨ç¤º', '8')
    await cmp('1234567890123456789n+9876543219876543210nã‚’è¡¨ç¤º', '11111111109999999999')
    await cmp('a=1234567890123456789n;a+9876543219876543210nã‚’è¡¨ç¤º', '11111111109999999999')
    await cmp('a=1234567890123456789n;b=9876543219876543210n;a+bã‚’è¡¨ç¤º', '11111111109999999999')
  })
  it('bigintå››å‰‡æ¼”ç®—', async () => {
    await cmp('3n-5nã‚’è¡¨ç¤º', '-2')
    await cmp('9876543219876543210n-1234567890123456789nã‚’è¡¨ç¤º', '8641975329753086421')
    await cmp('a=9876543219876543210n;a-1234567890123456789nã‚’è¡¨ç¤º', '8641975329753086421')
    await cmp('a=9876543219876543210n;1234567890123456789n-aã‚’è¡¨ç¤º', '-8641975329753086421')
    await cmp('a=9876543219876543210n;b=1234567890123456789n;a-bã‚’è¡¨ç¤º', '8641975329753086421')

    await cmp('3n*5nã‚’è¡¨ç¤º', '15')
    await cmp('1234567890123456789n*9876543219876543210nã‚’è¡¨ç¤º', '12193263124676116323609205901126352690')
    await cmp('a=1234567890123456789n;a*9876543219876543210nã‚’è¡¨ç¤º', '12193263124676116323609205901126352690')
    await cmp('a=1234567890123456789n;9876543219876543210n*aã‚’è¡¨ç¤º', '12193263124676116323609205901126352690')
    await cmp('a=1234567890123456789n;b=9876543219876543210n;a*bã‚’è¡¨ç¤º', '12193263124676116323609205901126352690')

    await cmp('10n/3nã‚’è¡¨ç¤º', '3')
    await cmp('10n/-3nã‚’è¡¨ç¤º', '-3')
    await cmp('-10n/3nã‚’è¡¨ç¤º', '-3')
    await cmp('-10n/-3nã‚’è¡¨ç¤º', '3')
    await cmp('98765432198765432109876543210n/1234567890123456789nã‚’è¡¨ç¤º', '80000000801')
    await cmp('98765432198765432109876543210987654321987654321n/1234567890123456789nã‚’è¡¨ç¤º', '80000000801000007290800066347')
    await cmp('a=98765432198765432109876543210987654321987654321n;a/1234567890123456789nã‚’è¡¨ç¤º', '80000000801000007290800066347')
    await cmp('b=1234567890123456789n;98765432198765432109876543210987654321987654321n/bã‚’è¡¨ç¤º', '80000000801000007290800066347')
    await cmp('a=98765432198765432109876543210987654321987654321n;b=1234567890123456789n;a/bã‚’è¡¨ç¤º', '80000000801000007290800066347')

    await cmp('10n%3nã‚’è¡¨ç¤º', '1')
    await cmp('10n%-3nã‚’è¡¨ç¤º', '1')
    await cmp('-10n%3nã‚’è¡¨ç¤º', '-1')
    await cmp('-10n%-3nã‚’è¡¨ç¤º', '-1')
    await cmp('98765432198765432109876543210n%1234567890123456789nã‚’è¡¨ç¤º', '9000987655221')
    await cmp('98765432198765432109876543210987654321987654321n%1234567890123456789nã‚’è¡¨ç¤º', '13091059800074538')
    await cmp('a=98765432198765432109876543210987654321987654321n;a%1234567890123456789nã‚’è¡¨ç¤º', '13091059800074538')
    await cmp('b=1234567890123456789n;98765432198765432109876543210987654321987654321n%bã‚’è¡¨ç¤º', '13091059800074538')
    await cmp('a=98765432198765432109876543210987654321987654321n;b=1234567890123456789n;a%bã‚’è¡¨ç¤º', '13091059800074538')

    await cmp('10n ** 3nã‚’è¡¨ç¤º', '1000')
    await cmp('3n ** 60nã‚’è¡¨ç¤º', '42391158275216203514294433201')
    await cmp('-3n ** 60nã‚’è¡¨ç¤º', '42391158275216203514294433201')
    await cmp('-3n ** 61nã‚’è¡¨ç¤º', '-127173474825648610542883299603')
  })
  it('bigintå˜é …æ¼”ç®—å­', async () => {
    await cmp('-3n*5nã‚’è¡¨ç¤º', '-15')
    await cmp('-1234567890123456789n*9876543219876543210nã‚’è¡¨ç¤º', '-12193263124676116323609205901126352690')
    await cmp('1234567890123456789n*-9876543219876543210nã‚’è¡¨ç¤º', '-12193263124676116323609205901126352690')
    await cmp('-1234567890123456789n*-9876543219876543210nã‚’è¡¨ç¤º', '12193263124676116323609205901126352690')

    await cmp('a=1234567890123456789n;a*-9876543219876543210nã‚’è¡¨ç¤º', '-12193263124676116323609205901126352690')
  })


  it('bigintæ¯”è¼ƒæ¼”ç®—å­', async () => {
    await cmp('a= 1234567890123456789n > 9876543219876543210n; aã‚’è¡¨ç¤º', 'false')
    await cmp('a= 1234567890123456789n > 9876543219876543210; aã‚’è¡¨ç¤º', 'false')
    await cmp('a= 1234567890123456789 > 9876543219876543210n; aã‚’è¡¨ç¤º', 'false')
    await cmp('a= 1234567890123456789n < 9876543219876543210n; aã‚’è¡¨ç¤º', 'true')
    await cmp('a= 1234567890123456789n < 9876543219876543210; aã‚’è¡¨ç¤º', 'true')
    await cmp('a= 1234567890123456789 < 9876543219876543210n; aã‚’è¡¨ç¤º', 'true')
  })

  it('bigintãƒ“ãƒƒãƒˆæ¼”ç®—', async () => {
    await cmp('1234567890123456789n<<60nã‚’è¡¨ç¤º', '1423359869420436337641010675071320064')
    await cmp('123456789012345678901234567890123456789n>>60nã‚’è¡¨ç¤º', '107081695084215790682')
  })

  it('ä¼¼ãŸãƒ•ã‚©ãƒ³ãƒˆå•é¡Œï¼šãªã§ã—ã“3ã§ã€Œâœ•ã€ã§æ›ã‘ç®—ã•ã›ã‚‹ #1781', async () => {
    // multiple
    await cmp('(2*3)ã‚’è¡¨ç¤º', '6')
    await cmp('(2âœ•3)ã‚’è¡¨ç¤º', '6') // 0x2715
    await cmp('(2âœ–3)ã‚’è¡¨ç¤º', '6') // 0x2716
    await cmp('(2âœ—3)ã‚’è¡¨ç¤º', '6') // 0x2717
    await cmp('(2âœ˜3)ã‚’è¡¨ç¤º', '6') // 0x2718
    await cmp('(2âŒ3)ã‚’è¡¨ç¤º', '6') // 0x274C
    // others
    await cmp('(2â•3)ã‚’è¡¨ç¤º', '5')
    await cmp('(20â–3)ã‚’è¡¨ç¤º', '17')
    await cmp('(21Ã·3)ã‚’è¡¨ç¤º', '7')
    await cmp('(21â—3)ã‚’è¡¨ç¤º', '7')
    await cmp('(20â–3)ã‚’è¡¨ç¤º', '17')
    await cmp('AğŸŸ°3;Aã‚’è¡¨ç¤º', '3')
  })
})
