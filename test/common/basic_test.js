const assert = require('assert')
const NakoCompiler = require('../../src/nako3')
const { expect } = require('chai')

describe('basic', () => {
  const nako = new NakoCompiler()
  // nako.logger.addListener('trace', ({ browserConsole }) => { console.log(...browserConsole) })
  const cmp = (/** @type {string} */code, /** @type {string} */res) => {
    nako.logger.debug('code=' + code)
    assert.strictEqual(nako.run(code, '').log, res)
  }
  const cmpNakoFuncs = (/** @type {string} */code, /** @type {Set<string>} */res) => {
    nako.logger.debug('code=' + code)
    nako.run(code, '')
    assert.deepStrictEqual(nako.usedFuncs, res)
  }
  // --- test ---
  it('print simple', () => {
    cmp('3„ÇíË°®Á§∫', '3')
  })
  it('print', () => {
    cmp('3„ÇíË°®Á§∫', '3')
    cmp('100„ÇíË°®Á§∫', '100')
    cmp('0xFF„ÇíË°®Á§∫', '255')
  })
  it('string', () => {
    cmp('„Äåabc„Äç„ÇíË°®Á§∫', 'abc')
    cmp('"abc"„ÇíË°®Á§∫', 'abc')
    cmp('‚Äú„ÅÇ„ÅÑ„ÅÜ‚Äù„ÇíË°®Á§∫', '„ÅÇ„ÅÑ„ÅÜ')
  })
  it('rawstring', () => {
    cmp('„Äéabc„Äè„ÇíË°®Á§∫', 'abc')
    cmp('\'abc\'„ÇíË°®Á§∫', 'abc')
    cmp('„Äéabc{30}abc„Äè„ÇíË°®Á§∫', 'abc{30}abc')
  })
  it('exstring', () => {
    cmp('a=30;„Äåabc{a}abc„Äç„ÇíË°®Á§∫', 'abc30abc')
    cmp('a=30;„ÄåabcÔΩõaÔΩùabc„Äç„ÇíË°®Á§∫', 'abc30abc')
  })
  it('raw string - üåø .. üåø', () => {
    cmp('a=üåøabcüåø;a„ÇíË°®Á§∫', 'abc')
  })
  it('EX string - üå¥ .. üå¥', () => {
    cmp('v=30;a=üå¥abc{v}abcüå¥;a„ÇíË°®Á§∫', 'abc30abc')
  })
  it('string - LF', () => {
    cmp('a=30;„Äåabc\nabc„Äç„ÇíË°®Á§∫', 'abc\nabc')
  })
  it('space „Äå„Éª„Äç', () => {
    cmp('„Éªa=30;„Éªb=50„Äå{a}-{b}„Äç„ÇíË°®Á§∫', '30-50')
  })
  it('string - üå¥ ... üå¥', () => {
    cmp('üå¥aaaüå¥„ÇíË°®Á§∫', 'aaa')
    cmp('a=30;üå¥aaa{a}bbbüå¥„ÇíË°®Á§∫', 'aaa30bbb')
    cmp('a=30;üåøaaa{a}bbbüåø„ÇíË°®Á§∫', 'aaa{a}bbb')
  })
  it('„Ç∑„Çπ„ÉÜ„É†ÂÆöÊï∞', () => {
    cmp('„Éä„Éá„Ç∑„Ç≥„Ç®„É≥„Ç∏„É≥„ÇíË°®Á§∫', 'nadesi.com/v3')
  })
  it('Âä©Ë©û„ÅÆÂæå„Å´Âè•Ë™≠ÁÇπ', () => {
    cmp('„Äå„Åì„Çì„Å´„Å°„ÅØ„Äç„Å®„ÄÅË°®Á§∫„ÄÇ', '„Åì„Çì„Å´„Å°„ÅØ')
  })
  it('‰ª£ÂÖ•Êñá', () => {
    cmp('3000„ÇíÂÄ§ÊÆµ„Å´‰ª£ÂÖ•„ÄÇÂÄ§ÊÆµ„ÇíË°®Á§∫', '3000')
    cmp('ÂÄ§ÊÆµ„Å´3000„Çí‰ª£ÂÖ•„ÄÇÂÄ§ÊÆµ„ÇíË°®Á§∫', '3000')
    cmp('„ÄÖ=3000„ÄÇ„ÄÖ„ÇíË°®Á§∫', '3000')
    cmp('„ÄÖ„Å´3000„Çí‰ª£ÂÖ•„ÄÇ„ÄÖ„ÇíË°®Á§∫', '3000')
  })
  it('ÈÄ£ÊñáÂæå„ÅÆ‰ª£ÂÖ•Êñá', () => {
    cmp('„Äåaabbcc„Äç„ÅÆ„Äåaa„Äç„Çí„Äå„Äç„Å´ÁΩÆÊèõ„Åó„Å¶F„Å´‰ª£ÂÖ•„ÄÇF„ÇíË°®Á§∫', 'bbcc')
    cmp('„Äåaabbcc„Äç„ÅÆ„Äåaa„Äç„Çí„Äå„Äç„Å´ÁΩÆÊèõ„Åó„Å¶„Äåbb„Äç„Çí„Äå„Äç„Å´ÁΩÆÊèõ„Åó„Å¶F„Å´‰ª£ÂÖ•„ÄÇF„ÇíË°®Á§∫', 'cc')
  })
  it('„Äú„Çí„Äú„Å´ÂÆö„ÇÅ„Çã', () => {
    cmp('A„Çí0.8„Å´ÂÆö„ÇÅ„Å¶A„ÇíË°®Á§∫', '0.8')
  })
  it('ÊñáÂ≠óÂàó - &„Å®ÊîπË°å', () => {
    cmp('„Äåaaa„Äç& _\n„Äåbbb„Äç„ÇíË°®Á§∫„ÄÇ', 'aaabbb')
    cmp('A= 1 + 1 + 1 + 1 + 1 + _\n1 + 1\nA„ÇíË°®Á§∫', '7')
    cmp('A= 1 + 1 + 1 + 1 + 1 + _\r\n1 + 1 + 1\r\nA„ÇíË°®Á§∫', '8')
    cmp('A= 1 + 1 + 1 + 1 + 1 + _  \r\n1 + 3  \r\nA„ÇíË°®Á§∫', '9')
    cmp('A = 1 + _\n' +
      '    5 + _\n' +
      '    10\n' +
      'A„ÇíË°®Á§∫„ÄÇ', '16')
  })
  it('ÂêçÂâç„Å´Êï∞Â≠ó„ÇíÊåÅ„Å§Â§âÊï∞„Çí‰Ωø„ÅÜ', () => {
    cmp('A1=30;B1=20;„Äå{A1}{B1}„Äç„ÇíË°®Á§∫„ÄÇ', '3020')
  })
  it('ÂêçÂâç„Å´ÁµµÊñáÂ≠ó„ÇíÊåÅ„Å§Â§âÊï∞„Çí‰Ωø„ÅÜ', () => {
    cmp('\u1F60=30;\u1F60„ÇíË°®Á§∫„ÄÇ', '30')
    cmp('üòÑ=30;üòÑ„ÇíË°®Á§∫„ÄÇ', '30')
  })
  it('„É©„Ç§„É≥„Ç≥„É°„É≥„Éà„ÅåÊ≠£„Åó„ÅèÂá¶ÁêÜ„Åï„Çå„Å™„ÅÑÂïèÈ°å (#112)', () => {
    cmp('A=50 # hogehoge\nA„ÇíË°®Á§∫', '50')
    cmp('A=50 ÔºÉ hogehoge\nA„ÇíË°®Á§∫', '50')
    cmp('A=50 ‚Äª hogehoge\nA„ÇíË°®Á§∫', '50')
    cmp('A=50 // hogehoge\nA„ÇíË°®Á§∫', '50')
    cmp('A=50 ÔºèÔºè hogehoge\nA„ÇíË°®Á§∫', '50')
    cmp('A=50\n„ÇÇ„ÅóA=50„Å™„Çâ„Å∞ # hogehoge\nA„ÇíË°®Á§∫\n„Åì„Åì„Åæ„Åß\n', '50')
    cmp('A=50\n„ÇÇ„ÅóA=50„Å™„Çâ„Å∞ ÔºÉ hogehoge\nA„ÇíË°®Á§∫\n„Åì„Åì„Åæ„Åß\n', '50')
    cmp('A=50\n„ÇÇ„ÅóA=50„Å™„Çâ„Å∞ ‚Äª hogehoge\nA„ÇíË°®Á§∫\n„Åì„Åì„Åæ„Åß\n', '50')
    cmp('A=50\n„ÇÇ„ÅóA=50„Å™„Çâ„Å∞ // hogehoge\nA„ÇíË°®Á§∫\n„Åì„Åì„Åæ„Åß\n', '50')
    cmp('A=50\n„ÇÇ„ÅóA=50„Å™„Çâ„Å∞ ÔºèÔºè hogehoge\nA„ÇíË°®Á§∫\n„Åì„Åì„Åæ„Åß\n', '50')
  })
  it('„É©„Ç§„É≥„Ç≥„É°„É≥„Éà„Å´ÊñáÂ≠óÂàóË®òÂè∑„Åå„ÅÇ„ÇäÈñâ„Åò„Å¶„ÅÑ„Å™„ÅÑ„Å®„Ç®„É©„Éº„Å´„Å™„Çã(#725)', () => {
    cmp('A=50 # \"hogehoge\nA„ÇíË°®Á§∫', '50')
  })
  it('ÁØÑÂõ≤„Ç≥„É°„É≥„Éà„Å´ÊñáÂ≠óÂàóË®òÂè∑„Åå„ÅÇ„ÇäÈñâ„Åò„Å¶„ÅÑ„Å™„ÅÑ„Å®„Ç®„É©„Éº„Å´„Å™„Çã(#731)', () => {
    cmp('A=50 /* " */A„ÇíË°®Á§∫', '50')
    cmp('A=50 /* \' */A„ÇíË°®Á§∫', '50')
  })
  it('usedFuncs', () => {
    cmpNakoFuncs('‚óè({Èñ¢Êï∞}f„Åßa„Çí)ÊºîÁÆóÂá¶ÁêÜ„Å®„ÅØ;„Åù„Çå„ÅØ„ÄÅf(a);„Åì„Åì„Åæ„Åß;‚óè(a„Çí)‰∫åÂÄçÂá¶ÁêÜ„Å®„ÅØ;„Åù„Çå„ÅØa*2;„Åì„Åì„Åæ„Åß;‰∫åÂÄçÂá¶ÁêÜ„Åß2„ÇíÊºîÁÆóÂá¶ÁêÜ„Åó„Å¶Ë°®Á§∫', new Set(['Ë°®Á§∫']))
  })
  it('Ë´ñÊñá„Å™„Å©„Åß‰Ωø„Çè„Çå„ÇãÂè•Ë™≠ÁÇπ„ÄåÔºå„Äç„Çí„Äå„ÄÅ„Äç(#735)', () => {
    cmp('A1=30;B1=20;(A1+B1)„ÇíÔºåË°®Á§∫', '50')
    cmp('A=ÔºìÔºéÔºëÔºî;A„ÇíÔºåË°®Á§∫', '3.14')
  })
  it('Êù°‰ª∂ÂàÜÂ≤ê„ÅÆ„Ç§„É≥„Éá„É≥„ÉàÊßãÊñá', () => {
    cmp(
      'ÔºÅ„Ç§„É≥„Éá„É≥„ÉàÊßãÊñá\n' +
      '3„ÅßÊù°‰ª∂ÂàÜÂ≤ê\n' +
      '    2„Å™„Çâ„Å∞\n' +
      '        1„ÇíË°®Á§∫\n' +
      '    3„Å™„Çâ„Å∞\n' +
      '        2„ÇíË°®Á§∫\n' +
      '    ÈÅï„Åà„Å∞\n' +
      '        3„ÇíË°®Á§∫\n',
      '2'
    )
  })
  it('Áã¨Á´ã„Åó„ÅüÂä©Ë©û„Äé„Å™„Çâ„Å∞„Äè„ÅÆ‰ΩçÁΩÆ„ÅÆÂèñÂæó', () => {
    const out = nako.lex('„ÇÇ„ÅóÂ≠òÂú®„Åô„Çã„Å™„Çâ„Å∞\n„Åì„Åì„Åæ„Åß', '')
    const sonzai = out.tokens.find((t) => t.value === 'Â≠òÂú®')
    const naraba = out.tokens.find((t) => t.type === '„Å™„Çâ„Å∞')

    // „ÄåÂ≠òÂú®„Åô„Çã„Äç
    expect(sonzai).to.have.property("startOffset").and.to.equal(2)
    expect(sonzai).to.have.property("endOffset").and.to.equal(6)

    // „Å™„Çâ„Å∞
    expect(naraba).to.have.property("startOffset").and.to.equal(6)
    expect(naraba).to.have.property("endOffset").and.to.equal(9)
  })
  it('preCode„ÇíËÄÉÊÖÆ„Åó„Åü„ÇΩ„Éº„Çπ„Éû„ÉÉ„Éó', () => {
    const preCode = '1„ÇíË°®Á§∫\n2„ÇíË°®Á§∫\n3„Çí'
    const tokens = nako.lex(preCode + 'Ë°®Á§∫', 'main.nako3', preCode).tokens

    // '3' „ÅØ-2„Åã„Çâ0ÊñáÂ≠óÁõÆ
    const three = tokens.findIndex((t) => t.value === 3)
    assert.strictEqual(tokens[three].startOffset, -2)
    assert.strictEqual(tokens[three].endOffset, 0)
    assert.strictEqual(tokens[three].line, 0)
    assert.strictEqual(tokens[three].column, -2)

    // 'Ë°®Á§∫' „ÅØ0~1ÊñáÂ≠óÁõÆ
    assert.strictEqual(tokens[three + 1].startOffset, 0)
    assert.strictEqual(tokens[three + 1].endOffset, 2)
    assert.strictEqual(tokens[three + 1].line, 0)
    assert.strictEqual(tokens[three + 1].column, 0)
  })
  it('ÂÆüË°åÈÄüÂ∫¶ÂÑ™ÂÖà - 1Ë°å„ÅÆ„Åø', () => {
    nako.reset()
    cmp(`
„ÄåÂÖ®„Å¶„Äç„ÅßÂÆüË°åÈÄüÂ∫¶ÂÑ™ÂÖà„Åó„Å¶1„ÇíË°®Á§∫
„ÄåÂÖ®„Å¶„Äç„ÅßÂÆüË°åÈÄüÂ∫¶ÂÑ™ÂÖà„Åó„Å¶2„ÇíË°®Á§∫
`, '1\n2')
  })
  it('ÂÆüË°åÈÄüÂ∫¶ÂÑ™ÂÖà - „Éñ„É≠„ÉÉ„ÇØÂÜÖ„Å´ÈÅ©Áî®', () => {
    // „Ç®„É©„Éº„ÅåËµ∑„Åç„Å™„Åë„Çå„Å∞„ÄÅ„ÄåÂÆüË°åÈÄüÂ∫¶ÂÑ™ÂÖà„Äç„ÅåÁÑ°„ÅÑÂ†¥Âêà„Å®Âêå„ÅòÂãï‰Ωú„Çí„Åô„Çã„ÄÇ
    cmp(`\
„ÄåÂÖ®„Å¶„Äç„ÅßÂÆüË°åÈÄüÂ∫¶ÂÑ™ÂÖà
    ‚óèF„Å®„ÅØ
        2„ÇíË°®Á§∫
        3„ÇíË°®Á§∫
    „Åì„Åì„Åæ„Åß
    1„ÇíË°®Á§∫
    F
„Åì„Åì„Åæ„Åß
4„ÇíË°®Á§∫
`, '1\n2\n3\n4')
  })
  it('ÂÆüË°åÈÄüÂ∫¶ÂÑ™ÂÖà - Èñ¢Êï∞ÂÆ£Ë®Ä„ÅÆ‰∏äÊñπ‰∏ãÊñπÂèÇÁÖß', () => {
    // „Ç®„É©„Éº„ÅåËµ∑„Åç„Å™„Åë„Çå„Å∞„ÄÅ„ÄåÂÆüË°åÈÄüÂ∫¶ÂÑ™ÂÖà„Äç„ÅåÁÑ°„ÅÑÂ†¥Âêà„Å®Âêå„ÅòÂãï‰Ωú„Çí„Åô„Çã„ÄÇ
    cmp(`\
„ÄåÂÖ®„Å¶„Äç„ÅßÂÆüË°åÈÄüÂ∫¶ÂÑ™ÂÖà
    ‚óèG„Å®„ÅØ
        2„ÇíË°®Á§∫
        3„ÇíË°®Á§∫
    „Åì„Åì„Åæ„Åß
    ‚óèF„Å®„ÅØ
        E„Åô„Çã
    „Åì„Åì„Åæ„Åß
    ‚óèE„Å®„ÅØ
        G„Åô„Çã
    „Åì„Åì„Åæ„Åß
    1„ÇíË°®Á§∫
    F
„Åì„Åì„Åæ„Åß
4„ÇíË°®Á§∫
`, '1\n2\n3\n4')
  })
  it('Á©∫ÁôΩ„ÅßÂå∫Âàá„Å£„Å¶Êñá„Çí„Å§„Å™„Åí„ÅüÂ†¥Âêà', () => {
    cmp('1„Å®2„ÇíË∂≥„Åô 1„Å®2„ÇíË∂≥„Åô', '')
  })
  it('return_none: true „ÅÆaddFunc„ÅßÂÆöÁæ©„Åó„ÅüÈñ¢Êï∞„Åå„Äå„Åù„Çå„Äç„Å´ÂÄ§„Çí‰ª£ÂÖ•„Åó„Å™„ÅÑ„Åì„Å®„ÇíÁ¢∫Ë™ç„Åô„Çã', () => {
    const nako = new NakoCompiler()
    nako.addFunc('hoge', [], () => {}, true)
    assert.strictEqual(nako.run('1„Å®2„ÇíË∂≥„Åô\nhoge\n„Åù„Çå„ÇíË°®Á§∫', '').log, '3')
  })
  it('Âà∂Âæ°ÊßãÊñá„Åß‰∏ÄË™ûÈñ¢Êï∞„Çí‰Ωø„ÅÜ', () => {
    cmp('‚óè‰∏Ä„Å®„ÅØ\n1„ÇíÊàª„Åô\n„Åì„Åì„Åæ„Åß\n„ÇÇ„Åó‰∏Ä„Å™„Çâ„Å∞\n1„ÇíË°®Á§∫\n„Åì„Åì„Åæ„Åß', '1') // if
    cmp('‚óè‰∏Ä„Å®„ÅØ\n1„ÇíÊàª„Åô\n„Åì„Åì„Åæ„Åß\n‰∏ÄÂõû\n1„ÇíË°®Á§∫\n„Åì„Åì„Åæ„Åß', '1') // times
    cmp('‚óè‰∏Ä„Å®„ÅØ\n1„ÇíÊàª„Åô\n„Åì„Åì„Åæ„Åß\n‰∏Ä„ÅÆÈñì\n1„ÇíË°®Á§∫\nÊäú„Åë„Çã\n„Åì„Åì„Åæ„Åß', '1') // while
    cmp('‚óè‰∏Ä„Å®„ÅØ\n[1]„ÇíÊàª„Åô\n„Åì„Åì„Åæ„Åß\n‰∏Ä„ÇíÂèçÂæ©\n1„ÇíË°®Á§∫\n„Åì„Åì„Åæ„Åß', '1') // foreach
    cmp('‚óè‰∏Ä„Å®„ÅØ\n1„ÇíÊàª„Åô\n„Åì„Åì„Åæ„Åß\n‰∏Ä„ÅßÊù°‰ª∂ÂàÜÂ≤ê\n1„Å™„Çâ„Å∞\n1„ÇíË°®Á§∫\n„Åì„Åì„Åæ„Åß\n„Åì„Åì„Åæ„Åß', '1') // switch
  })
  it('„Åù„ÅÜ', () => {
    // „Äå„Åù„ÅÜ„Äç„ÅØ„Äå„Åù„Çå„Äç„ÅÆ„Ç®„Ç§„É™„Ç¢„Çπ
    cmp('„Åù„ÇåÔºù1;„Åù„ÅÜ„ÇíË°®Á§∫', '1')
    cmp('1„Å´3„ÇíË∂≥„Åô;„Åù„ÅÜ„ÇíË°®Á§∫', '4')
  })
  it('„Äå„ÄúÊôÇÈñì„Äç„ÅÆ„ÄåÈñì„Äç„ÇíÂà∂Âæ°ÊßãÊñá„Å®„Åó„Å¶Ë™çË≠ò„Åï„Åõ„Å™„ÅÑ #831', () => {
    cmp('ÊôÇÈñì=1\nÔºàÊôÇÈñìÔºâ„ÇíË°®Á§∫', '1')
  })
  it('„Äå„ÇÇ„ÅóF„ÅåÂ≠òÂú®„Åô„Çã„Å™„Çâ„Å∞„Äç„ÅåF„Å®„ÄåÂ≠òÂú®„Åô„Çã„Äç„ÅÆÊØîËºÉ„Å´„Å™„ÇãÂïèÈ°å„ÅÆ‰øÆÊ≠£ #830', () => {
    cmp('‚óèÔºàA„ÅåÔºâhoge„Å®„ÅØ\n' +
        '    1„ÇíÊàª„Åô\n' +
        '„Åì„Åì„Åæ„Åß\n' +
        '„ÇÇ„Åó„ÄÅF„Ååhoge„Å™„Çâ„Å∞\n' +
        '    1„ÇíË°®Á§∫\n' +
        '„Åì„Åì„Åæ„Åß',
        // ---
        '1')
  })
  it('ÁÑ°ÂêçÈñ¢Êï∞„ÅåË≠¶Âëä„ÇíÂá∫„ÅôÂïèÈ°å„ÅÆ‰øÆÊ≠£ #841', () => {
    let log = ''
    nako.logger.addListener('warn', ({ noColor }) => { log += noColor })
    nako.parse(
      'f = Èñ¢Êï∞(x) „Åù„Çå„ÅØ„ÄÅx„ÄÇ„Åì„Åì„Åæ„Åß„ÄÇ\n' +
      'g = Èñ¢Êï∞(x) „Åù„Çå„ÅØ„ÄÅx„ÄÇ„Åì„Åì„Åæ„Åß„ÄÇ\n'
      , 'main.nako3')
    assert.strictEqual(log, '')
  })
  it('ÂçòÁã¨„ÅßÂÆüË°å„Åß„Åç„Çã„Éó„É≠„Ç∞„É©„É†„ÅÆÂá∫Âäõ', function (done) {
    if (typeof process === 'undefined' || process.env.NODE_ENV === 'test') {return this.skip()}
    const code = nako.compileStandalone('1+2„ÇíË°®Á§∫', 'main.nako3', false)    
    Function('const console = { log: this.callback };\n' + code).apply({
      callback: (/** @type {any} */text) => {
        assert.strictEqual(text, '3')
        done()
      },
    })
  })
  it('reset„Åï„Çå„ÅüÂæå„Å´Èñ¢Êï∞Âêç„ÇíÂèñÂæó„Åß„Åç„Å™„ÅÑÂïèÈ°å„ÅÆ‰øÆÊ≠£ #849', (done) => {
    const nako = new NakoCompiler()
    nako.logger.addListener('stdout', ({ noColor }) => {
      assert(noColor.includes('function')) // JavaScript„ÅÆ„Ç≥„Éº„Éâ function() { var ... } „ÅåË°®Á§∫„Åï„Çå„Çã„ÅØ„Åö
      done()
    })
    nako.run(`
‚óèA„Å®„ÅØ
„Åì„Åì„Åæ„Åß
0.0001ÁßíÂæå„Å´„ÅØ
    „ÄåA„Äç„ÅÆJS„Ç™„Éñ„Ç∏„Çß„ÇØ„ÉàÂèñÂæó„Åó„Å¶Ë°®Á§∫
„Åì„Åì„Åæ„Åß„ÄÇ
`, '')
    nako.reset()
    console.log(nako.compile(`\
‚óè„ÉÜ„Çπ„Éà:Ë∂≥„Åô„Å®„ÅØ
    1„Å®2„ÇíË∂≥„Åô
    „Åù„Çå„Å®3„ÅåASSERTÁ≠â„Åó„ÅÑ
„Åì„Åì„Åæ„Åß

‚óè„ÉÜ„Çπ„Éà:Âºï„Åè„Å®„ÅØ
    1„Å®2„ÇíË∂≥„Åô
    „Åù„Çå„Å®3„ÅåASSERTÁ≠â„Åó„ÅÑ
„Åì„Åì„Åæ„Åß
`, 'main.nako3', true))
  })
  //
  it('„ÄåA„ÅØB„Åß„ÅÇ„Çã„ÄçÊßãÊñá #939', () => {
    cmp('A„ÅØ9„Åß„ÅÇ„Çã„ÄÇA„ÇíË°®Á§∫', '9')
    cmp('B„ÅØ„Äå„ÅÇ„Äç„Åß„ÅÇ„Çã„ÄÇB„ÇíË°®Á§∫', '„ÅÇ')
    cmp('C„ÅØ[1,2,3]„Åß„ÅÇ„Çã;C[2]„ÇíË°®Á§∫', '3')
  })
})
